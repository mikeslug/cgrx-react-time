(this["webpackJsonpcgrx-time-entry"]=this["webpackJsonpcgrx-time-entry"]||[]).push([[0],{1586:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(27),i=n.n(c),s=n(44),r=n(11),o=n(13),l=(n(88),n(34)),j=n(35),u=n(23),d=n(37),m=n(36),h=n(2),b=function(e){var t=e.handleClose,n=e.form,a=e.children,c=n?"modal display-block":"modal display-none";return Object(h.jsx)("div",{className:c,children:Object(h.jsxs)("section",{className:"modal-main",children:[a,Object(h.jsx)("a",{className:"closeModal",type:"button",onClick:t})]})})},O=n(26),p=n(1596),x=function(e){var t=Object(a.useState)(0),n=Object(o.a)(t,2),c=n[0],i=n[1],s=Object(a.useState)(!1),r=Object(o.a)(s,2),l=r[0],j=r[1],u=Object(a.useState)(!1),d=Object(o.a)(u,2),m=d[0],b=d[1],O=Object(a.useRef)(null);Object(a.useEffect)((function(){e.getTimer(c)}),[c]),Object(a.useEffect)((function(){p()}),[e.formSubmitted]);var p=function(){clearInterval(O.current),j(!1),b(!1),i(0),e.timerInactive()};return Object(h.jsx)("div",{className:"app",children:Object(h.jsxs)("div",{className:"stopwatch-card",children:[Object(h.jsx)("p",{children:function(){var e="0".concat(c%60).slice(-2),t="".concat(Math.floor(c/60)),n="0".concat(t%60).slice(-2),a="0".concat(Math.floor(c/3600)).slice(-2);return"".concat(a," : ").concat(n," : ").concat(e)}()}),Object(h.jsxs)("div",{className:"buttons",children:[l||m?m?Object(h.jsx)("button",{onClick:function(){clearInterval(O.current),b(!1),e.timerInactive()},children:"Pause"}):Object(h.jsx)("button",{onClick:function(){b(!0),O.current=setInterval((function(){i((function(e){return e+1}))}),1e3),j(!0),e.timerActive()},children:"Resume"}):Object(h.jsx)("button",{onClick:function(){j(!0),b(!0),O.current=setInterval((function(){i((function(e){return e+1}))}),1e3),e.timerActive()},children:"Start"}),Object(h.jsx)("button",{onClick:p,disabled:!l,children:"Reset"})]})]})})},f=function(e){var t=e.handleClose,n=e.handleEntry,c={project:"",payType:"",date:"",hours:"",minutes:"",notes:"",timerAt:0,timerOn:!1},i=Object(a.useState)(c),s=Object(o.a)(i,2),l=s[0],j=s[1],u=Object(a.useState)("false"),d=Object(o.a)(u,2),m=d[0],b=d[1],f=function(e){j(Object(r.a)(Object(r.a)({},l),{},Object(O.a)({},e.target.name,e.target.value)))},v=function(e,t){j(Object(r.a)(Object(r.a)({},l),{},Object(O.a)({},e.currentTarget.getAttribute("name"),t.value)))};return Object(h.jsx)("div",{className:"form-wrapper",children:Object(h.jsxs)("div",{className:"ui form",children:[Object(h.jsxs)("div",{className:"inline fields sixteen wide project",children:[Object(h.jsx)("label",{children:"Project"}),Object(h.jsx)(p.a,{placeholder:"Select Project",fluid:!0,search:!0,selection:!0,options:[{key:"WCON-Egyptian Telephone Coop Association",value:"WCON-Egyptian Telephone Coop Association",text:"WCON-Egyptian Telephone Coop Association",name:"project"},{key:"WCON-Ontonagon County Telephone Company",value:"WCON-Ontonagon County Telephone Company",text:"WCON-Ontonagon County Telephone Company",name:"project"},{key:"WCON-CenturyLink",value:"WCON-CenturyLink",text:"WCON-CenturyLink",name:"project"},{key:"WCON-TDS",value:"WCON-TDS",text:"WCON-TDS",name:"project"},{key:"WCON-Shawnee Communications",value:"WCON-Shawnee Communications",text:"WCON-Shawnee Communications",name:"project"},{key:"WCON-Hiawatcha Telephone Company",value:"WCON-Hiawatcha Telephone Company",text:"WCON-Hiawatcha Telephone Company",name:"project"}],name:"project",value:l.project,onChange:v})]}),Object(h.jsxs)("div",{className:"inline fields sixteen wide work-type",children:[Object(h.jsx)("label",{children:"Pay Type"}),Object(h.jsx)(p.a,{placeholder:"Select Pay Type",fluid:!0,search:!0,selection:!0,options:[{key:"REG",value:"REG",text:"REG",name:"payType"},{key:"Per Diem",value:"Per Diem",text:"Per Diem",name:"payType"},{key:"Prevailing Wage",value:"Prevailing Wage",text:"Prevailing Wage",name:"payType"}],name:"payType",value:l.payType,onChange:v})]}),Object(h.jsxs)("div",{className:"inline fields date",children:[Object(h.jsx)("label",{children:"Date:"}),Object(h.jsx)("div",{className:"eight wide field required",children:Object(h.jsx)("input",{type:"date",name:"date",value:l.date,onChange:f})})]}),Object(h.jsx)(x,{timerActive:function(){j(Object(r.a)(Object(r.a)({},l),{},{timerOn:!0}))},timerInactive:function(){j(Object(r.a)(Object(r.a)({},l),{},{timerOn:!1}))},getTimer:function(e){j(Object(r.a)(Object(r.a)({},l),{},{timerAt:e}))},formSubmitted:m}),Object(h.jsxs)("div",{className:"inline fields time",children:[Object(h.jsx)("label",{children:"Hours/Minutes:"}),Object(h.jsxs)("div",{className:"four wide field hours required",children:[Object(h.jsx)("input",{type:"number",name:"hours",placeholder:"8",tabIndex:"500",maxLength:"4",value:l.hours,onChange:f}),Object(h.jsx)("span",{className:"",children:"h"})]}),Object(h.jsxs)("div",{className:"four wide field mins required",children:[Object(h.jsx)("input",{type:"number",name:"minutes",value:l.minutes,onChange:f,placeholder:"15",tabIndex:"500",maxLength:"4"}),Object(h.jsx)("span",{className:"",children:"m"})]})]}),Object(h.jsxs)("div",{className:"field",children:[Object(h.jsx)("label",{children:"Notes"}),Object(h.jsx)("textarea",{rows:"4",name:"notes",value:l.notes,onChange:f})]}),Object(h.jsx)("div",{className:"ui basic button",onClick:function(e){e.preventDefault(),n(l),t(),b(!0),setTimeout((function(){j(Object(r.a)({},c)),b(!1)}),500)},children:"Submit"})," "]})})},v=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).showForm=function(){e.setState({form:!0})},e.hideForm=function(){e.setState({form:!1})},e.state={form:!1,edit:!1},e.showForm=e.showForm.bind(Object(u.a)(e)),e.hideForm=e.hideForm.bind(Object(u.a)(e)),e}return Object(j.a)(n,[{key:"render",value:function(){var e=this;return Object(h.jsxs)("div",{className:"button-container",children:[Object(h.jsx)("a",{className:"button",onClick:function(){return e.showForm()},children:"Enter Time"}),Object(h.jsx)(b,{form:this.state.form,handleClose:this.hideForm,children:Object(h.jsx)(f,{handleClose:this.hideForm,handleEntry:this.props.handleEntry,data:this.props.data,index:this.props.index})})]})}}]),n}(a.Component),y=n(69),C=n.n(y),N=function(){for(var e=Object(a.useState)(Object(O.a)({project:"",workType:"",date:"",hours:"",minutes:"",notes:""},"workType","")),t=Object(o.a)(e,2),n=t[0],c=t[1],i=function(e){c(Object(r.a)(Object(r.a)({},n),{},Object(O.a)({},e.target.name,e.target.value)))},s=function(e,t){c(Object(r.a)(Object(r.a)({},n),{},Object(O.a)({},e.currentTarget.getAttribute("name"),t.value)))},l=[],j=0;j<=20;j++){var u=C.a.company.companyName();l.push({key:u.replace(/\W/g,""),text:u,value:u,name:"project"})}return Object(h.jsx)("div",{className:"form-wrapper",children:Object(h.jsxs)("form",{className:"ui form",children:[Object(h.jsxs)("div",{className:"inline fields sixteen wide project",children:[Object(h.jsx)("label",{children:"Project"}),Object(h.jsx)(p.a,{placeholder:"Select Project",fluid:!0,search:!0,selection:!0,options:l,name:"project",value:n.project,onChange:s})]}),Object(h.jsxs)("div",{className:"inline fields sixteen wide work-type",children:[Object(h.jsx)("label",{children:"Work Type"}),Object(h.jsx)(p.a,{placeholder:"Select Work Type",fluid:!0,search:!0,selection:!0,options:[{key:"Construction",value:"Construction",text:"Construction",name:"workType"},{key:"Engineering",value:"Engineering",text:"Engineering",name:"workType"},{key:"Other",value:"Other",text:"Other",name:"workType"}],name:"workType",value:n.workType,onChange:s})]}),Object(h.jsxs)("div",{className:"inline fields date",children:[Object(h.jsx)("label",{children:"Date:"}),Object(h.jsx)("div",{className:"eight wide field",children:Object(h.jsx)("input",{type:"date",name:"date",value:n.date,onChange:i})})]}),Object(h.jsxs)("div",{className:"inline fields time",children:[Object(h.jsx)("label",{children:"Hours/Minutes:"}),Object(h.jsxs)("div",{className:"four wide field hours",children:[Object(h.jsx)("input",{type:"number",name:"hours",placeholder:"8",tabIndex:"500",maxLength:"4",value:n.hours,onChange:i}),Object(h.jsx)("span",{className:"",children:"h"})]}),Object(h.jsxs)("div",{className:"four wide field mins",children:[Object(h.jsx)("input",{type:"number",name:"minutes",value:n.minutes,onChange:i,placeholder:"15",tabIndex:"500",maxLength:"4"}),Object(h.jsx)("span",{className:"",children:"m"})]})]}),Object(h.jsxs)("div",{className:"field",children:[Object(h.jsx)("label",{children:"Notes"}),Object(h.jsx)("textarea",{rows:"4",name:"notes",value:n.notes,onChange:i})]}),Object(h.jsx)("div",{className:"ui basic button",onClick:function(e){e.preventDefault(),console.log(n)},children:"Submit"})]})})},g=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).showForm=function(){e.setState({form:!0})},e.hideForm=function(){e.setState({form:!1})},e.state={form:!1},e.showForm=e.showForm.bind(Object(u.a)(e)),e.hideForm=e.hideForm.bind(Object(u.a)(e)),e}return Object(j.a)(n,[{key:"render",value:function(){var e=this;this.state.form;return Object(h.jsxs)("div",{className:"button-container",children:[Object(h.jsx)("a",{className:"button",onClick:function(){return e.showForm()},children:"Claim Quantities"}),Object(h.jsx)(b,{form:this.state.form,handleClose:this.hideForm,children:Object(h.jsx)(N,{})})]})}}]),n}(a.Component),k=n(70),T=n(22),w={scopes:["User.Read"]},S="https://graph.microsoft.com/v1.0/me",W=n(45);var E=function(){var e=Object(T.e)().instance;return Object(h.jsx)(W.a,{variant:"secondary",className:"ml-auto login",onClick:function(){return function(e){e.loginPopup(w).catch((function(e){console.error(e)}))}(e)},children:"Sign in"})};var F=function(){var e=Object(T.e)().instance;return Object(h.jsx)(W.a,{variant:"secondary",className:"ml-auto logout",onClick:function(){return function(e){e.logoutPopup().catch((function(e){console.error(e)}))}(e)},children:"Sign out"})},P=n.p+"static/media/congruex.7ce3f639.svg",A=function(e){var t=Object(T.d)();return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(k.a,{variant:"dark",children:[Object(h.jsx)("header",{className:"App-header",children:Object(h.jsx)("img",{src:P,className:"App-logo",alt:"logo"})}),t?Object(h.jsx)(F,{}):Object(h.jsx)(E,{})]}),Object(h.jsx)("br",{}),Object(h.jsx)("br",{}),e.children]})},D=function(e){var t=Object(a.useState)(0),n=Object(o.a)(t,2),c=n[0],i=n[1],s=Object(a.useRef)(null);return Object(a.useEffect)((function(){e.startTime&&i(e.startTime),s.current=setInterval((function(){i((function(e){return e+1}))}),1e3)}),[]),Object(h.jsx)("div",{className:"app",children:Object(h.jsx)("div",{className:"stopwatch-card",children:Object(h.jsx)("p",{children:function(){var e="0".concat(c%60).slice(-2),t="".concat(Math.floor(c/60)),n="0".concat(t%60).slice(-2),a="0".concat(Math.floor(c/3600)).slice(-2);return"".concat(a," : ").concat(n," : ").concat(e)}()})})})},I=function(e){e.editData;var t=e.handleClose,n=e.handleEntry,c=Object(a.useState)([]),i=Object(o.a)(c,2),s=i[0],l=i[1],j=Object(a.useState)("false"),u=Object(o.a)(j,2),d=u[0],m=u[1],b=function(e){l(Object(r.a)(Object(r.a)({},s),{},Object(O.a)({},e.target.name,e.target.value)))},f=function(e,t){l(Object(r.a)(Object(r.a)({},s),{},Object(O.a)({},e.currentTarget.getAttribute("name"),t.value)))};return Object(h.jsx)("div",{className:"form-wrapper",children:Object(h.jsxs)("div",{className:"ui form",children:[Object(h.jsxs)("div",{className:"inline fields sixteen wide project",children:[Object(h.jsx)("label",{children:"Project"}),Object(h.jsx)(p.a,{placeholder:"Select Project",fluid:!0,search:!0,selection:!0,options:[{key:"WCON-Egyptian Telephone Coop Association",value:"WCON-Egyptian Telephone Coop Association",text:"WCON-Egyptian Telephone Coop Association",name:"project"},{key:"WCON-Ontonagon County Telephone Company",value:"WCON-Ontonagon County Telephone Company",text:"WCON-Ontonagon County Telephone Company",name:"project"},{key:"WCON-CenturyLink",value:"WCON-CenturyLink",text:"WCON-CenturyLink",name:"project"},{key:"WCON-TDS",value:"WCON-TDS",text:"WCON-TDS",name:"project"},{key:"WCON-Shawnee Communications",value:"WCON-Shawnee Communications",text:"WCON-Shawnee Communications",name:"project"},{key:"WCON-Hiawatcha Telephone Company",value:"WCON-Hiawatcha Telephone Company",text:"WCON-Hiawatcha Telephone Company",name:"project"}],name:"project",value:s.project,onChange:f})]}),Object(h.jsxs)("div",{className:"inline fields sixteen wide work-type",children:[Object(h.jsx)("label",{children:"Pay Type"}),Object(h.jsx)(p.a,{placeholder:"Select Pay Type",fluid:!0,search:!0,selection:!0,options:[{key:"REG",value:"REG",text:"REG",name:"payType"},{key:"Per Diem",value:"Per Diem",text:"Per Diem",name:"payType"},{key:"Prevailing Wage",value:"Prevailing Wage",text:"Prevailing Wage",name:"payType"}],name:"payType",value:s.payType,onChange:f})]}),Object(h.jsxs)("div",{className:"inline fields date",children:[Object(h.jsx)("label",{children:"Date:"}),Object(h.jsx)("div",{className:"eight wide field required",children:Object(h.jsx)("input",{type:"date",name:"date",value:s.date,onChange:b})})]}),Object(h.jsx)(x,{timerActive:function(){l(Object(r.a)(Object(r.a)({},s),{},{timerOn:!0}))},timerInactive:function(){l(Object(r.a)(Object(r.a)({},s),{},{timerOn:!1}))},getTimer:function(e){l(Object(r.a)(Object(r.a)({},s),{},{timerAt:e}))},formSubmitted:d}),Object(h.jsxs)("div",{className:"inline fields time",children:[Object(h.jsx)("label",{children:"Hours/Minutes:"}),Object(h.jsxs)("div",{className:"four wide field hours required",children:[Object(h.jsx)("input",{type:"number",name:"hours",placeholder:"8",tabIndex:"500",maxLength:"4",value:s.hours,onChange:b}),Object(h.jsx)("span",{className:"",children:"h"})]}),Object(h.jsxs)("div",{className:"four wide field mins required",children:[Object(h.jsx)("input",{type:"number",name:"minutes",value:s.minutes,onChange:b,placeholder:"15",tabIndex:"500",maxLength:"4"}),Object(h.jsx)("span",{className:"",children:"m"})]})]}),Object(h.jsxs)("div",{className:"field",children:[Object(h.jsx)("label",{children:"Notes"}),Object(h.jsx)("textarea",{rows:"4",name:"notes",value:s.notes,onChange:b})]}),Object(h.jsx)("div",{className:"ui basic button",onClick:function(e){e.preventDefault(),n(s),t(),m(!0),setTimeout((function(){l([]),m(!1)}),500)},children:"Submit"})," "]})})},L=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).showForm=function(){e.setState({form:!0})},e.hideForm=function(){e.setState({form:!1})},e.state={form:!1},e.showForm=e.showForm.bind(Object(u.a)(e)),e.hideForm=e.hideForm.bind(Object(u.a)(e)),e}return Object(j.a)(n,[{key:"render",value:function(){var e=this;return Object(h.jsxs)("div",{className:"button-container",children:[Object(h.jsx)("a",{className:"button",onClick:function(){return e.showForm()},children:"Edit Entry"}),Object(h.jsx)(b,{form:this.state.form,handleClose:this.hideForm,children:Object(h.jsx)(I,{handleClose:this.hideForm,handleEntry:this.props.handleEntry,editData:this.props.data,index:this.props.index})})]})}}]),n}(a.Component),R=function(e){var t=e.formData,n=e.index,a=t.timerOn,c=e.handleRemoveItem;return Object(h.jsx)("div",{className:"time-entry",children:Object(h.jsxs)("div",{className:"entry-wrap",children:[Object(h.jsxs)("div",{className:"entry-left",children:[Object(h.jsx)("div",{className:"entry-field entry-date",children:t.date}),Object(h.jsxs)("div",{className:"entry-field entry-pay",children:[Object(h.jsx)("div",{className:"entry-field entry-time",children:a?Object(h.jsx)("div",{children:Object(h.jsx)(D,{startTime:t.timerAt})}):Object(h.jsxs)("div",{children:[t.hours,":",t.minutes]})}),Object(h.jsx)("div",{className:"entry-field entry-pay-type",children:t.payType})]})]}),Object(h.jsxs)("div",{className:"entry-right",children:[Object(h.jsx)("div",{className:"entry-field entry-proj",children:t.project}),Object(h.jsx)("div",{className:"entry-field entry-notes",children:t.notes})]}),Object(h.jsxs)("div",{className:"entry-buttons",children:[Object(h.jsx)("a",{className:"button",date:t.date,onClick:c,children:"DELETE"}),Object(h.jsx)(L,{edit:!0,data:t,index:n})]})]})})},H=function(e){return Object(h.jsx)("div",{className:"spacer",style:{display:"block",height:e.pixels+"px"}})};H.defaultProps={pixels:40};var q=H,M=n(38),G=n.n(M),B=n(42);function J(e){return U.apply(this,arguments)}function U(){return(U=Object(B.a)(G.a.mark((function e(t){var n,a,c;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Headers,a="Bearer ".concat(t),n.append("Authorization",a),c={method:"GET",headers:n},e.abrupt("return",fetch(S,c).then((function(e){return e.json()})).catch((function(e){return console.log(e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(){var e=Object(T.e)(),t=e.instance,n=e.accounts,c=Object(a.useState)(null),i=Object(o.a)(c,2),s=i[0],l=i[1],j=n[0]&&n[0].name;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("h5",{className:"card-title",children:["Welcome ",j]}),s?null:function(){var e=Object(r.a)(Object(r.a)({},w),{},{account:n[0]});t.acquireTokenSilent(e).then((function(e){J(e.accessToken).then((function(e){return l(e)}))})).catch((function(n){t.acquireTokenPopup(e).then((function(e){J(e.accessToken).then((function(e){return l(e)}))}))}))}()]})}var Q=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)(0),r=Object(o.a)(i,2),l=r[0],j=r[1],u=function(e){var t=e.target.getAttribute("date");c(n.filter((function(e){return e.date!==t})))};return Object(h.jsx)("div",{className:"App",children:Object(h.jsxs)(A,{children:[Object(h.jsxs)(T.a,{children:[Object(h.jsx)(z,{}),Object(h.jsx)(q,{}),Object(h.jsxs)("div",{className:"form-buttons",children:[Object(h.jsx)(v,{handleEntry:function(e){j(l+1),c((function(t){return[].concat(Object(s.a)(t),[e])}))}}),Object(h.jsx)(g,{})]})]}),Object(h.jsx)(T.c,{children:Object(h.jsx)("p",{className:"unauth-disclaimer",children:"Please sign in."})}),Object(h.jsx)("div",{className:"entries-wrap",children:n.map((function(e,t){return Object(h.jsx)(R,{index:t,count:l,formData:e,handleRemoveItem:u},t)}))})]})})},K=(n(1585),new(n(1597).a)({auth:{clientId:"f775fc69-3b9b-4680-9431-806dfecca948",authority:"https://login.microsoftonline.com/743127a4-099a-45da-9160-47b014d740b9",redirectUri:"https://mikeslug.github.io/cgrx-react-time/"},cache:{cacheLocation:"sessionStorage",storeAuthStateInCookie:!1}}));i.a.render(Object(h.jsx)(T.b,{instance:K,children:Object(h.jsx)(Q,{})}),document.getElementById("root"))},88:function(e,t,n){}},[[1586,1,2]]]);
//# sourceMappingURL=main.f10b0aee.chunk.js.map